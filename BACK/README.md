# ğŸŒ™ ëª½ê¸€ëª½ê¸€ (MonggleMonggle) - ê¿ˆ ì¼ê¸° & AI í•´ëª½ ì„œë¹„ìŠ¤

> **SSAFY Final Project** - ìº˜ë¦°ë” ê¸°ë°˜ ê¿ˆ ì¼ê¸° ì‘ì„± ë° AI í•´ëª½, ìš´ì„¸, í–‰ìš´ì˜ ìƒ‰ ì œê³µ ì„œë¹„ìŠ¤

<div align="center">

![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.8-6DB33F?style=for-the-badge&logo=springboot&logoColor=white)
![Java](https://img.shields.io/badge/Java-17-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)
![MySQL](https://img.shields.io/badge/MySQL-8.0-4479A1?style=for-the-badge&logo=mysql&logoColor=white)
![MyBatis](https://img.shields.io/badge/MyBatis-3.0.3-DC382D?style=for-the-badge)
![JWT](https://img.shields.io/badge/JWT-0.12.3-000000?style=for-the-badge&logo=jsonwebtokens&logoColor=white)

</div>

---

## ğŸ“š ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
5. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
6. [API ëª…ì„¸ì„œ](#-api-ëª…ì„¸ì„œ)
7. [í™˜ê²½ ì„¤ì •](#-í™˜ê²½-ì„¤ì •)
8. [ì‹¤í–‰ ë°©ë²•](#-ì‹¤í–‰-ë°©ë²•)
9. [ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸](#-ì£¼ìš”-ê¸°ëŠ¥-ìƒì„¸)
10. [ë³´ì•ˆ](#-ë³´ì•ˆ)
11. [ì½”ë“œ ìƒì„¸ ì„¤ëª…](#-ì½”ë“œ-ìƒì„¸-ì„¤ëª…)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ì„œë¹„ìŠ¤ ì†Œê°œ

**ëª½ê¸€ëª½ê¸€**ì€ ì‚¬ìš©ìê°€ ë§¤ì¼ì˜ ê¿ˆì„ ê¸°ë¡í•˜ê³ , AIë¥¼ í†µí•´ ê¿ˆ í•´ëª½ê³¼ ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ğŸ” **íšŒì› ê´€ë¦¬** | íšŒì›ê°€ì…, ë¡œê·¸ì¸, ì •ë³´ ìˆ˜ì •, íšŒì› íƒˆí‡´ (Soft Delete) |
| ğŸ“– **ê¿ˆ ì¼ê¸°** | ê¿ˆ ì¼ê¸° ì‘ì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ (ì›”ë³„/ìƒì„¸) |
| ğŸ¤– **AI ë¶„ì„** | FastAPI ì—°ë™ ê¿ˆ í•´ëª½, ìš´ì„¸, í–‰ìš´ì˜ ìƒ‰/ì•„ì´í…œ ì œê³µ |
| ğŸ“Š **ì›”ë³„ ë¶„ì„** | ì›”ë³„ ê¿ˆ í†µê³„ ë° AI ë¦¬í¬íŠ¸ ìƒì„± |
| ğŸ“ **ì›”ë³„ ë©”ëª¨** | ì›”ë³„ ê°œì¸ ë©”ëª¨ ì‘ì„± |
| ğŸ–¼ï¸ **ì´ë¯¸ì§€ ê´€ë¦¬** | Base64 ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ì‚­ì œ |
| ğŸ˜Š **ê°ì • ì ìˆ˜** | 5ê°€ì§€ ê°ì • (ê¸°ì¨/ë§Œì¡±/í‰ë²”/ë¶ˆì•ˆ/ìŠ¬í””) |

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend Framework
```
Spring Boot 3.5.8
â”œâ”€â”€ spring-boot-starter-web          # REST API
â”œâ”€â”€ spring-boot-starter-security     # ë³´ì•ˆ (JWT ì¸ì¦)
â”œâ”€â”€ spring-boot-starter-validation   # Bean Validation
â”œâ”€â”€ spring-boot-starter-webflux      # WebClient (FastAPI ì—°ë™)
â””â”€â”€ spring-boot-devtools             # ê°œë°œ í¸ì˜
```

### Database & ORM
```
MySQL 8.0
â””â”€â”€ MyBatis 3.0.3
    â”œâ”€â”€ Mapper XML
    â””â”€â”€ Type Aliases
```

### Security
```
Spring Security 6.x
â”œâ”€â”€ JWT (jjwt 0.12.3)
â”‚   â”œâ”€â”€ jjwt-api
â”‚   â”œâ”€â”€ jjwt-impl
â”‚   â””â”€â”€ jjwt-jackson
â””â”€â”€ BCrypt Password Encoder
```

### Documentation
```
Swagger/OpenAPI
â””â”€â”€ springdoc-openapi-starter-webmvc-ui 2.7.0
```

### Utilities
```
Lombok          # ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ ì œê±°
Gradle          # ë¹Œë“œ ë„êµ¬
```

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     HTTP/REST      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Spring Boot    â”‚
â”‚   (Vue.js)   â”‚     JSON + JWT     â”‚   Backend (8080) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                        â”‚                        â”‚
                    â–¼                        â–¼                        â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚    MySQL      â”‚        â”‚   FastAPI     â”‚        â”‚  File System  â”‚
           â”‚  (dream_db)   â”‚        â”‚ AI Server     â”‚        â”‚   (uploads/)  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   (8000)      â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API ì—°ë™ ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AI ë¶„ì„ í”Œë¡œìš°                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚   1. ê¿ˆ ì¼ê¸° ì‘ì„±                                              â”‚
â”‚      â””â”€â–º POST /api/dreams                                      â”‚
â”‚                                                                â”‚
â”‚   2. AI ë¶„ì„ ìš”ì²­ (Frontend â†’ FastAPI)                         â”‚
â”‚      â””â”€â–º FastAPIê°€ ê¿ˆ ë‚´ìš© ë¶„ì„ í›„ ê²°ê³¼ ë°˜í™˜                   â”‚
â”‚                                                                â”‚
â”‚   3. AI ë¶„ì„ ê²°ê³¼ ì €ì¥                                         â”‚
â”‚      â””â”€â–º POST /api/dreams/{dreamId}/result                     â”‚
â”‚          (í•´ëª½, ìš´ì„¸, í–‰ìš´ì˜ ìƒ‰/ì•„ì´í…œ)                        â”‚
â”‚                                                                â”‚
â”‚   4. ì´ë¯¸ì§€ ì—…ë¡œë“œ (ì„ íƒ)                                      â”‚
â”‚      â””â”€â–º POST /api/images/upload                               â”‚
â”‚          (AI ìƒì„± ì´ë¯¸ì§€ Base64 ì €ì¥)                          â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
BACK/
â”œâ”€â”€ ğŸ“„ build.gradle                    # Gradle ë¹Œë“œ ì„¤ì •
â”œâ”€â”€ ğŸ“„ settings.gradle                 # Gradle ì„¤ì •
â”œâ”€â”€ ğŸ“„ dream_DB.sql                    # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ ğŸ“„ gradlew / gradlew.bat           # Gradle Wrapper
â”œâ”€â”€ ğŸ“ gradle/
â”‚   â””â”€â”€ wrapper/
â”‚       â”œâ”€â”€ gradle-wrapper.jar
â”‚       â””â”€â”€ gradle-wrapper.properties
â”œâ”€â”€ ğŸ“ img/                            # ë¬¸ì„œìš© ì´ë¯¸ì§€
â”‚   â”œâ”€â”€ AI_API_Workflow.png
â”‚   â”œâ”€â”€ Database.png
â”‚   â”œâ”€â”€ Total_workflow.png
â”‚   â””â”€â”€ Usercase.png
â”œâ”€â”€ ğŸ“ uploads/                        # ì—…ë¡œë“œ ì´ë¯¸ì§€ ì €ì¥ì†Œ
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ dream/
â”‚           â””â”€â”€ {userId}/              # ì‚¬ìš©ìë³„ í´ë”
â””â”€â”€ ğŸ“ src/
    â”œâ”€â”€ ğŸ“ main/
    â”‚   â”œâ”€â”€ ğŸ“ java/com/ssafy/finalproject/
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ FinalProjectApplication.java      # ë©”ì¸ í´ë˜ìŠ¤
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ config/                           # ì„¤ì • í´ë˜ìŠ¤
    â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java              # Spring Security ì„¤ì •
    â”‚   â”‚   â”‚   â”œâ”€â”€ SwaggerConfig.java               # Swagger/OpenAPI ì„¤ì •
    â”‚   â”‚   â”‚   â”œâ”€â”€ WebClientConfig.java             # WebClient ì„¤ì •
    â”‚   â”‚   â”‚   â””â”€â”€ WebConfig.java                   # CORS, ë¦¬ì†ŒìŠ¤ í•¸ë“¤ëŸ¬
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ controller/                       # REST ì»¨íŠ¸ë¡¤ëŸ¬
    â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java              # ì¸ì¦ API
    â”‚   â”‚   â”‚   â”œâ”€â”€ DreamController.java             # ê¿ˆ ì¼ê¸° API
    â”‚   â”‚   â”‚   â”œâ”€â”€ DreamResultController.java       # AI ë¶„ì„ ê²°ê³¼ API
    â”‚   â”‚   â”‚   â”œâ”€â”€ EmotionController.java           # ê°ì • ì ìˆ˜ API
    â”‚   â”‚   â”‚   â”œâ”€â”€ ImageController.java             # ì´ë¯¸ì§€ API
    â”‚   â”‚   â”‚   â”œâ”€â”€ MonthlyAnalysisController.java   # ì›”ë³„ ë¶„ì„ API
    â”‚   â”‚   â”‚   â””â”€â”€ MonthlyMemoController.java       # ì›”ë³„ ë©”ëª¨ API
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ service/                          # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    â”‚   â”‚   â”‚   â”œâ”€â”€ AuthService.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ DreamService.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ DreamResultService.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ EmotionService.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ ImageService.java
    â”‚   â”‚   â”‚   â”œâ”€â”€ MonthlyAnalysisService.java
    â”‚   â”‚   â”‚   â””â”€â”€ MonthlyMemoService.java
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ model/
    â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ entity/                       # ë„ë©”ì¸ ì—”í‹°í‹°
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ User.java                    # ì‚¬ìš©ì
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Dream.java                   # ê¿ˆ ì¼ê¸°
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DreamResult.java             # AI ë¶„ì„ ê²°ê³¼
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EmotionScore.java            # ê°ì • ì ìˆ˜
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MonthlyAnalysis.java         # ì›”ë³„ ë¶„ì„
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MonthlyMemo.java             # ì›”ë³„ ë©”ëª¨
    â”‚   â”‚   â”‚   â”‚
    â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ dao/                          # MyBatis Mapper ì¸í„°í˜ì´ìŠ¤
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserDao.java
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DreamsDao.java
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DreamsResultsDao.java
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EmotionDao.java
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MonthlyAnalysisDao.java
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MonthlyMemoDao.java
    â”‚   â”‚   â”‚   â”‚
    â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ dto/
    â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ request/                  # ìš”ì²­ DTO
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ SignupRequest.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ LoginRequest.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ UpdateUserRequest.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ CreateDreamRequest.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ UpdateDreamRequest.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ SaveDreamResultRequest.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ UpdateDreamResultRequest.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ MonthlyAnalysisRequest.java
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ SaveMemoRequest.java
    â”‚   â”‚   â”‚       â”‚
    â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ response/                 # ì‘ë‹µ DTO
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ApiResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ErrorResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ SignupResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ LoginResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ UserInfoResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ DreamResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ DreamListResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ DreamResultResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ EmotionListResponse.java
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ MonthlyAnalysisResponse.java
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ MonthlyMemoResponse.java
    â”‚   â”‚   â”‚       â”‚
    â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ fastapi/                  # FastAPI ì—°ë™ DTO
    â”‚   â”‚   â”‚           â”œâ”€â”€ MonthlyAnalysisRequestDto.java
    â”‚   â”‚   â”‚           â””â”€â”€ MonthlyAnalysisResponseDto.java
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ security/                         # ë³´ì•ˆ ì»´í¬ë„ŒíŠ¸
    â”‚   â”‚   â”‚   â”œâ”€â”€ JwtUtil.java                     # JWT í† í° ìœ í‹¸
    â”‚   â”‚   â”‚   â””â”€â”€ JwtAuthenticationFilter.java     # JWT ì¸ì¦ í•„í„°
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ exception/                        # ì˜ˆì™¸ ì²˜ë¦¬
    â”‚   â”‚   â”‚   â”œâ”€â”€ CustomException.java             # ê¸°ë³¸ ì˜ˆì™¸ í´ë˜ìŠ¤
    â”‚   â”‚   â”‚   â”œâ”€â”€ BadRequestException.java         # 400
    â”‚   â”‚   â”‚   â”œâ”€â”€ UnauthorizedException.java       # 401
    â”‚   â”‚   â”‚   â”œâ”€â”€ ForbiddenException.java          # 403
    â”‚   â”‚   â”‚   â”œâ”€â”€ ResourceNotFoundException.java   # 404
    â”‚   â”‚   â”‚   â”œâ”€â”€ ConflictException.java           # 409
    â”‚   â”‚   â”‚   â”œâ”€â”€ ServiceUnavailableException.java # 503
    â”‚   â”‚   â”‚   â””â”€â”€ GlobalExceptionHandler.java      # ì „ì—­ ì˜ˆì™¸ í•¸ë“¤ëŸ¬
    â”‚   â”‚   â”‚
    â”‚   â”‚   â””â”€â”€ ğŸ“ util/
    â”‚   â”‚       â””â”€â”€ SecurityUtil.java                # ë³´ì•ˆ ìœ í‹¸ë¦¬í‹°
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ“ resources/
    â”‚       â”œâ”€â”€ ğŸ“„ application.yaml                  # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
    â”‚       â”œâ”€â”€ ğŸ“„ mybatis-config.xml                # MyBatis ì„¤ì •
    â”‚       â””â”€â”€ ğŸ“ mapper/                           # MyBatis Mapper XML
    â”‚           â”œâ”€â”€ ğŸ“ user/
    â”‚           â”‚   â””â”€â”€ UserMapper.xml
    â”‚           â”œâ”€â”€ ğŸ“ dream/
    â”‚           â”‚   â”œâ”€â”€ DreamsMapper.xml
    â”‚           â”‚   â”œâ”€â”€ DreamResultsMapper.xml
    â”‚           â”‚   â””â”€â”€ EmotionMapper.xml
    â”‚           â””â”€â”€ ğŸ“ monthly/
    â”‚               â”œâ”€â”€ MonthlyAnalysisMapper.xml
    â”‚               â””â”€â”€ MonthlyMemoMapper.xml
    â”‚
    â””â”€â”€ ğŸ“ test/                                     # í…ŒìŠ¤íŠ¸ ì½”ë“œ
        â””â”€â”€ java/com/ssafy/finalproject/
            â””â”€â”€ FinalProjectApplicationTests.java
```

---

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              dream_db                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       users         â”‚       â”‚   emotion_scores    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK user_id (BIGINT) â”‚       â”‚ PK emotion_id (INT) â”‚
â”‚    login_id         â”‚       â”‚    emotion_name     â”‚
â”‚    password         â”‚       â”‚    score            â”‚
â”‚    name             â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    birth_date       â”‚                  â”‚
â”‚    gender           â”‚                  â”‚
â”‚    calendar_type    â”‚                  â”‚
â”‚    created_date     â”‚                  â”‚
â”‚    updated_date     â”‚                  â”‚
â”‚    deleted_date     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
           â”‚                             â”‚
           â”‚ 1:N                         â”‚ 1:N
           â”‚                             â”‚
           â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    dreams                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK dream_id (BIGINT)                            â”‚
â”‚ FK user_id (BIGINT) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º users    â”‚
â”‚ FK emotion_id (INT) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º emotion  â”‚
â”‚    dream_date                                   â”‚
â”‚    title                                        â”‚
â”‚    content                                      â”‚
â”‚    created_date                                 â”‚
â”‚    deleted_date                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 1:1
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                dream_results                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id (BIGINT)                                  â”‚
â”‚ FK dream_id (BIGINT) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º dreams   â”‚
â”‚    dream_interpretation                         â”‚
â”‚    today_fortune_summary                        â”‚
â”‚    lucky_color_name                             â”‚
â”‚    lucky_color_number                           â”‚
â”‚    lucky_color_reason                           â”‚
â”‚    lucky_item_name                              â”‚
â”‚    lucky_item_reason                            â”‚
â”‚    image_url                                    â”‚
â”‚    created_date                                 â”‚
â”‚    deleted_date                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ users               â”‚       â”‚ dream_monthly_memo  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                             â”‚
           â”‚ 1:N                         â”‚ 1:1
           â”‚                             â”‚
           â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            dream_monthly_analysis               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK analysis_id (BIGINT)                         â”‚
â”‚ FK user_id (BIGINT) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º users    â”‚
â”‚    year                                         â”‚
â”‚    month                                        â”‚
â”‚    dream_count                                  â”‚
â”‚    avg_emotion_score                            â”‚
â”‚    monthly_report (LONGTEXT)                    â”‚
â”‚    created_date                                 â”‚
â”‚    updated_date                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í…Œì´ë¸” ìƒì„¸ ì„¤ëª…

#### 1. users (íšŒì› ì •ë³´)
| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|--------|------|------|------|
| user_id | BIGINT | ì‚¬ìš©ì ID | PK, AUTO_INCREMENT |
| login_id | VARCHAR(255) | ë¡œê·¸ì¸ ì•„ì´ë”” | UNIQUE |
| password | VARCHAR(255) | ë¹„ë°€ë²ˆí˜¸ | BCrypt ì•”í˜¸í™” |
| name | VARCHAR(100) | ì´ë¦„ | |
| birth_date | DATE | ìƒë…„ì›”ì¼ | |
| gender | CHAR(1) | ì„±ë³„ | 'M' ë˜ëŠ” 'F' |
| calendar_type | VARCHAR(20) | ë‹¬ë ¥ ìœ í˜• | solar/lunarGeneral/lunarLeap |
| created_date | DATETIME | ê°€ì…ì¼ | |
| updated_date | DATETIME | ìˆ˜ì •ì¼ | |
| deleted_date | DATETIME | ì‚­ì œì¼ | Soft Delete |

#### 2. emotion_scores (ê°ì • ì ìˆ˜)
| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|--------|------|------|------|
| emotion_id | TINYINT | ê°ì • ID | PK |
| emotion_name | VARCHAR(20) | ê°ì • ì´ë¦„ | ê¸°ì¨/ë§Œì¡±/í‰ë²”/ë¶ˆì•ˆ/ìŠ¬í”” |
| score | INT | ê°ì • ì ìˆ˜ | 1~5 |

**ì´ˆê¸° ë°ì´í„°:**
| emotion_id | emotion_name | score |
|------------|--------------|-------|
| 1 | ê¸°ì¨ | 5 |
| 2 | ë§Œì¡± | 4 |
| 3 | í‰ë²” | 3 |
| 4 | ë¶ˆì•ˆ | 2 |
| 5 | ìŠ¬í”” | 1 |

#### 3. dreams (ê¿ˆ ê¸°ë¡)
| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|--------|------|------|------|
| dream_id | BIGINT | ê¿ˆ ID | PK, AUTO_INCREMENT |
| user_id | BIGINT | ì‚¬ìš©ì ID | FK â†’ users |
| emotion_id | TINYINT | ê°ì • ID | FK â†’ emotion_scores |
| dream_date | DATE | ê¿ˆ ê¾¼ ë‚ ì§œ | |
| title | TEXT | ê¿ˆ ì œëª© | |
| content | TEXT | ê¿ˆ ë‚´ìš© | |
| created_date | DATETIME | ìƒì„±ì¼ | |
| deleted_date | DATETIME | ì‚­ì œì¼ | Soft Delete |

#### 4. dream_results (AI ë¶„ì„ ê²°ê³¼)
| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|--------|------|------|------|
| id | BIGINT | ê²°ê³¼ ID | PK, AUTO_INCREMENT |
| dream_id | BIGINT | ê¿ˆ ID | FK â†’ dreams, UNIQUE |
| dream_interpretation | TEXT | AI ê¿ˆ í•´ëª½ ê²°ê³¼ | |
| today_fortune_summary | TEXT | ì˜¤ëŠ˜ì˜ ìš´ì„¸ ì¢…í•© | |
| lucky_color_name | VARCHAR(50) | í–‰ìš´ì˜ ìƒ‰ ì´ë¦„ | |
| lucky_color_number | INT | í–‰ìš´ì˜ ìƒ‰ ë²ˆí˜¸ | 1~7 |
| lucky_color_reason | TEXT | í–‰ìš´ì˜ ìƒ‰ ì¶”ì²œ ì´ìœ  | |
| lucky_item_name | VARCHAR(100) | í–‰ìš´ì˜ ì•„ì´í…œ ì´ë¦„ | |
| lucky_item_reason | TEXT | í–‰ìš´ì˜ ì•„ì´í…œ ì¶”ì²œ ì´ìœ  | |
| image_url | VARCHAR(255) | ê¿ˆ ì´ë¯¸ì§€ URL | Nullable |
| created_date | DATETIME | ìƒì„±ì¼ | |
| deleted_date | DATETIME | ì‚­ì œì¼ | Soft Delete |

#### 5. dream_monthly_analysis (ì›”ë³„ ë¶„ì„)
| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|--------|------|------|------|
| analysis_id | BIGINT | ë¶„ì„ ID | PK, AUTO_INCREMENT |
| user_id | BIGINT | ì‚¬ìš©ì ID | FK â†’ users |
| year | INT | ì—°ë„ | |
| month | INT | ì›” | |
| dream_count | INT | ê¿ˆ ê°œìˆ˜ | |
| avg_emotion_score | DECIMAL(5,2) | í‰ê·  ê°ì • ì ìˆ˜ | |
| monthly_report | LONGTEXT | AI ì›”ê°„ ë¦¬í¬íŠ¸ | Markdown |
| created_date | DATETIME | ìƒì„±ì¼ | |
| updated_date | DATETIME | ìˆ˜ì •ì¼ | |

#### 6. dream_monthly_memo (ì›”ë³„ ë©”ëª¨)
| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|--------|------|------|------|
| memo_id | BIGINT | ë©”ëª¨ ID | PK, AUTO_INCREMENT |
| analysis_id | BIGINT | ë¶„ì„ ID | FK â†’ monthly_analysis, UNIQUE |
| memo_content | TEXT | ë©”ëª¨ ë‚´ìš© | |
| created_date | DATETIME | ìƒì„±ì¼ | |
| updated_date | DATETIME | ìˆ˜ì •ì¼ | |
| deleted_date | DATETIME | ì‚­ì œì¼ | Soft Delete |

---

## ğŸ“¡ API ëª…ì„¸ì„œ

### Base URL
```
http://localhost:8080
```

### Swagger UI
```
http://localhost:8080/swagger-ui/index.html
```

---

### 1ï¸âƒ£ ì¸ì¦ API (`/api/auth`)

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| POST | `/api/auth/signup` | íšŒì›ê°€ì… | âŒ |
| POST | `/api/auth/login` | ë¡œê·¸ì¸ | âŒ |
| POST | `/api/auth/logout` | ë¡œê·¸ì•„ì›ƒ | âœ… |
| GET | `/api/auth/me` | ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ | âœ… |
| PUT | `/api/auth/me` | ì‚¬ìš©ì ì •ë³´ ìˆ˜ì • | âœ… |
| DELETE | `/api/auth/me` | íšŒì› íƒˆí‡´ | âœ… |

#### 1.1 íšŒì›ê°€ì…
```http
POST /api/auth/signup
Content-Type: application/json

{
    "loginId": "testuser",
    "password": "password123",
    "name": "í™ê¸¸ë™",
    "birthDate": "1990-01-15",
    "gender": "M",
    "calendarType": "solar"
}
```

**Response (201 Created):**
```json
{
    "userId": 1,
    "loginId": "testuser",
    "name": "í™ê¸¸ë™",
    "gender": "M",
    "birthDate": "1990-01-15",
    "calendarType": "solar",
    "message": "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### 1.2 ë¡œê·¸ì¸
```http
POST /api/auth/login
Content-Type: application/json

{
    "loginId": "testuser",
    "password": "password123"
}
```

**Response (200 OK):**
```json
{
    "userId": 1,
    "loginId": "testuser",
    "name": "í™ê¸¸ë™",
    "birthDate": "1990-01-15",
    "gender": "M",
    "calendarType": "solar",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "message": "ë¡œê·¸ì¸ ì„±ê³µ"
}
```

---

### 2ï¸âƒ£ ê¿ˆ ì¼ê¸° API (`/api/dreams`)

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| POST | `/api/dreams` | ê¿ˆ ì¼ê¸° ì‘ì„± | âœ… |
| GET | `/api/dreams?year={year}&month={month}` | ì›”ë³„ ëª©ë¡ ì¡°íšŒ | âœ… |
| GET | `/api/dreams/{dreamId}` | ìƒì„¸ ì¡°íšŒ | âœ… |
| PUT | `/api/dreams/{dreamId}` | ìˆ˜ì • | âœ… |
| DELETE | `/api/dreams/{dreamId}` | ì‚­ì œ | âœ… |

#### 2.1 ê¿ˆ ì¼ê¸° ì‘ì„±
```http
POST /api/dreams
Authorization: Bearer {token}
Content-Type: application/json

{
    "emotionId": 1,
    "dreamDate": "2025-12-08",
    "title": "ì‹ ë¹„ë¡œìš´ ìˆ² ì†ì˜ ê¿ˆ",
    "content": "ì˜¤ëŠ˜ ë°¤ ì‹ ë¹„ë¡œìš´ ìˆ² ì†ì„ ê±¸ì–´ë‹¤ë…”ìŠµë‹ˆë‹¤..."
}
```

**Response (201 Created):**
```json
{
    "dreamId": 1,
    "userId": 1,
    "emotionId": 1,
    "dreamDate": "2025-12-08",
    "title": "ì‹ ë¹„ë¡œìš´ ìˆ² ì†ì˜ ê¿ˆ",
    "content": "ì˜¤ëŠ˜ ë°¤ ì‹ ë¹„ë¡œìš´ ìˆ² ì†ì„ ê±¸ì–´ë‹¤ë…”ìŠµë‹ˆë‹¤...",
    "createdDate": "2025-12-08T10:30:00"
}
```

#### 2.2 ì›”ë³„ ëª©ë¡ ì¡°íšŒ
```http
GET /api/dreams?year=2025&month=12
Authorization: Bearer {token}
```

**Response (200 OK):**
```json
{
    "year": 2025,
    "month": 12,
    "dreams": [
        {
            "dreamId": 1,
            "title": "ì‹ ë¹„ë¡œìš´ ìˆ² ì†ì˜ ê¿ˆ",
            "content": "ì˜¤ëŠ˜ ë°¤ ì‹ ë¹„ë¡œìš´ ìˆ² ì†ì„...",
            "dreamDate": "2025-12-08",
            "emotionId": 1,
            "emotionName": "ê¸°ì¨",
            "hasResult": true,
            "luckyColorName": "íŒŒë€ìƒ‰",
            "luckyColorNumber": 3
        }
    ]
}
```

---

### 3ï¸âƒ£ AI ë¶„ì„ ê²°ê³¼ API (`/api/dreams/{dreamId}/result`)

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| POST | `/api/dreams/{dreamId}/result` | ê²°ê³¼ ì €ì¥ | âœ… |
| GET | `/api/dreams/{dreamId}/result` | ê²°ê³¼ ì¡°íšŒ | âœ… |
| PUT | `/api/dreams/{dreamId}/result` | ê²°ê³¼ ìˆ˜ì • | âœ… |
| DELETE | `/api/dreams/{dreamId}/result` | ê²°ê³¼ ì‚­ì œ | âœ… |

#### 3.1 AI ë¶„ì„ ê²°ê³¼ ì €ì¥
```http
POST /api/dreams/1/result
Authorization: Bearer {token}
Content-Type: application/json

{
    "dreamInterpretation": "ìˆ²ì€ ë‚´ë©´ì˜ íƒí—˜ì„ ìƒì§•í•©ë‹ˆë‹¤...",
    "todayFortuneSummary": "ì˜¤ëŠ˜ì€ ìƒˆë¡œìš´ ì‹œì‘ì— ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤...",
    "luckyColor": {
        "name": "ì´ˆë¡ìƒ‰",
        "number": 4,
        "reason": "ìì—°ì˜ í˜ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤"
    },
    "luckyItem": {
        "name": "ë‚˜ë­‡ì ëª¨ì–‘ ì•¡ì„¸ì„œë¦¬",
        "reason": "ìì—°ê³¼ì˜ ì—°ê²°ì„ ê°•í™”í•©ë‹ˆë‹¤"
    },
    "imageUrl": "/uploads/images/dream/1/20251208_abc123.png"
}
```

**Response (201 Created):**
```json
{
    "resultId": 1,
    "dreamId": 1,
    "message": "AI ë¶„ì„ ê²°ê³¼ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

---

### 4ï¸âƒ£ ê°ì • ì ìˆ˜ API (`/api/emotions`)

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| GET | `/api/emotions` | ê°ì • ëª©ë¡ ì¡°íšŒ | âœ… |

**Response (200 OK):**
```json
{
    "emotions": [
        { "emotionId": 1, "emotionName": "ê¸°ì¨", "score": 5 },
        { "emotionId": 2, "emotionName": "ë§Œì¡±", "score": 4 },
        { "emotionId": 3, "emotionName": "í‰ë²”", "score": 3 },
        { "emotionId": 4, "emotionName": "ë¶ˆì•ˆ", "score": 2 },
        { "emotionId": 5, "emotionName": "ìŠ¬í””", "score": 1 }
    ]
}
```

---

### 5ï¸âƒ£ ì›”ë³„ ë¶„ì„ API (`/api/analysis/monthly`)

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| GET | `/api/analysis/monthly?year={year}&month={month}` | í†µê³„ ì¡°íšŒ | âœ… |
| POST | `/api/analysis/monthly` | AI ë¦¬í¬íŠ¸ ìƒì„± | âœ… |

#### 5.2 ì›”ë³„ AI ë¦¬í¬íŠ¸ ìƒì„±
```http
POST /api/analysis/monthly
Authorization: Bearer {token}
Content-Type: application/json

{
    "year": 2025,
    "month": 12
}
```

**Response (201 Created):**
```json
{
    "analysisId": 1,
    "year": 2025,
    "month": 12,
    "dreamCount": 15,
    "avgEmotionScore": 3.67,
    "monthlyReport": "## 12ì›” ê¿ˆ ë¶„ì„ ë¦¬í¬íŠ¸\n\nì´ë²ˆ ë‹¬ì€ ì „ë°˜ì ìœ¼ë¡œ...",
    "createdDate": "2025-12-08T10:30:00",
    "updatedDate": null
}
```

---

### 6ï¸âƒ£ ì›”ë³„ ë©”ëª¨ API (`/api/memo/monthly`)

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| GET | `/api/memo/monthly?year={year}&month={month}` | ë©”ëª¨ ì¡°íšŒ | âœ… |
| POST | `/api/memo/monthly` | ë©”ëª¨ ì €ì¥/ìˆ˜ì • | âœ… |
| DELETE | `/api/memo/monthly/{memoId}` | ë©”ëª¨ ì‚­ì œ | âœ… |

---

### 7ï¸âƒ£ ì´ë¯¸ì§€ API (`/api/images`)

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| POST | `/api/images/upload` | Base64 ì´ë¯¸ì§€ ì—…ë¡œë“œ | âœ… |
| DELETE | `/api/images?imageUrl={url}` | ì´ë¯¸ì§€ ì‚­ì œ | âœ… |

#### 7.1 ì´ë¯¸ì§€ ì—…ë¡œë“œ
```http
POST /api/images/upload
Authorization: Bearer {token}
Content-Type: application/json

{
    "imageData": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...",
    "dreamId": 1
}
```

**Response (200 OK):**
```json
{
    "success": true,
    "message": "ì´ë¯¸ì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.",
    "imageUrl": "/uploads/images/dream/1/20251208_abc123.png"
}
```

---

### ì—ëŸ¬ ì‘ë‹µ í˜•ì‹

```json
{
    "error": "ERROR_CODE",
    "message": "ì—ëŸ¬ ë©”ì‹œì§€",
    "timestamp": "2025-12-08T10:30:00"
}
```

| HTTP Status | Error Code | ì„¤ëª… |
|-------------|------------|------|
| 400 | BAD_REQUEST | ì˜ëª»ëœ ìš”ì²­ |
| 400 | VALIDATION_ERROR | ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨ |
| 401 | UNAUTHORIZED | ì¸ì¦ ì‹¤íŒ¨ |
| 403 | FORBIDDEN | ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ |
| 404 | NOT_FOUND | ë¦¬ì†ŒìŠ¤ ì—†ìŒ |
| 409 | CONFLICT | ì¤‘ë³µ ë°ì´í„° |
| 503 | SERVICE_UNAVAILABLE | ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜¤ë¥˜ |

---

## âš™ í™˜ê²½ ì„¤ì •

### application.yaml

```yaml
# ì„œë²„ í¬íŠ¸
server:
  port: ${SERVER_PORT:8080}

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
spring:
  config:
    import: optional:file:.env[.properties]
  datasource:
    driver-class-name: ${SPRING_DATASOURCE_DRIVER_CLASS_NAME:com.mysql.cj.jdbc.Driver}
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/dream_db?serverTimezone=Asia/Seoul&characterEncoding=UTF-8}
    username: ${SPRING_DATASOURCE_USERNAME:root}
    password: ${SPRING_DATASOURCE_PASSWORD:ssafy}
    hikari:
      maximum-pool-size: 10
      connection-timeout: 30000

  # íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

# MyBatis ì„¤ì •
mybatis:
  mapper-locations: classpath:mapper/**/*.xml
  type-aliases-package: com.ssafy.finalproject.model.entity
  configuration:
    map-underscore-to-camel-case: true

# JWT ì„¤ì •
jwt:
  secret: ${JWT_SECRET:your-secret-key-here}
  expiration: ${JWT_EXPIRATION:86400000}  # 24ì‹œê°„

# íŒŒì¼ ì—…ë¡œë“œ ê²½ë¡œ
file:
  upload-dir: ${FILE_UPLOAD_DIR:uploads/images}
  base-url: ${FILE_BASE_URL:/uploads/images}

# FastAPI ì—°ë™ ì„¤ì •
fastapi:
  url: ${FASTAPI_URL:http://localhost:8000}
  timeout: ${FASTAPI_TIMEOUT:60000}

# ë¡œê¹… ì„¤ì •
logging:
  level:
    com.ssafy.finalproject: DEBUG
    org.springframework.web: INFO
    org.springframework.security: DEBUG
```

### í™˜ê²½ ë³€ìˆ˜ (.env)

```properties
# ì„œë²„
SERVER_PORT=8080

# ë°ì´í„°ë² ì´ìŠ¤
SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/dream_db?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
SPRING_DATASOURCE_USERNAME=root
SPRING_DATASOURCE_PASSWORD=your_password

# JWT
JWT_SECRET=your-very-long-secret-key-for-jwt-authentication
JWT_EXPIRATION=86400000

# FastAPI
FASTAPI_URL=http://localhost:8000
FASTAPI_TIMEOUT=60000

# íŒŒì¼ ì—…ë¡œë“œ
FILE_UPLOAD_DIR=uploads/images
FILE_BASE_URL=/uploads/images
```

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Java 17** ì´ìƒ
- **MySQL 8.0** ì´ìƒ
- **Gradle 8.x** (ë˜ëŠ” Gradle Wrapper ì‚¬ìš©)

### 2. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

```bash
# MySQL ì ‘ì†
mysql -u root -p

# ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ìƒì„±
source dream_DB.sql
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env íŒŒì¼ ìƒì„± (í”„ë¡œì íŠ¸ ë£¨íŠ¸)
cp .env.example .env

# í™˜ê²½ ë³€ìˆ˜ ìˆ˜ì •
notepad .env  # Windows
```

### 4. ë¹Œë“œ ë° ì‹¤í–‰

```bash
# Gradle Wrapperë¡œ ë¹Œë“œ
./gradlew build

# ì‹¤í–‰
./gradlew bootRun

# ë˜ëŠ” JAR íŒŒì¼ë¡œ ì‹¤í–‰
java -jar build/libs/finalproject-0.0.1-SNAPSHOT.jar
```

### 5. ì ‘ì† í™•ì¸

```bash
# API í…ŒìŠ¤íŠ¸
curl http://localhost:8080/api/emotions

# Swagger UI
http://localhost:8080/swagger-ui/index.html
```

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

### 1. íšŒì› ê´€ë¦¬

#### íšŒì›ê°€ì… í”Œë¡œìš°
```
ì‚¬ìš©ì ì…ë ¥ â†’ ì•„ì´ë”” ì¤‘ë³µ ì²´í¬ â†’ ë¹„ë°€ë²ˆí˜¸ BCrypt ì•”í˜¸í™” â†’ DB ì €ì¥
```

#### ë‹¬ë ¥ ìœ í˜• (calendarType)
| ê°’ | ì„¤ëª… |
|----|------|
| `solar` | ì–‘ë ¥ |
| `lunarGeneral` | ìŒë ¥ (í‰ë‹¬) |
| `lunarLeap` | ìŒë ¥ (ìœ¤ë‹¬) |

### 2. ê¿ˆ ì¼ê¸°

#### ê°™ì€ ë‚ ì§œ ì²˜ë¦¬
- ê°™ì€ ë‚ ì§œì— ê¿ˆ ì¼ê¸°ê°€ ìˆìœ¼ë©´ **ì—…ë°ì´íŠ¸**
- ì—†ìœ¼ë©´ **ìƒˆë¡œ ìƒì„±**

#### Soft Delete
- ì‹¤ì œ ì‚­ì œ ëŒ€ì‹  `deleted_date` ì»¬ëŸ¼ì— ì‚­ì œ ì‹œê°„ ê¸°ë¡
- ì¡°íšŒ ì‹œ `deleted_date IS NULL` ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§

### 3. AI ë¶„ì„ ì—°ë™

#### FastAPI ì—°ë™ êµ¬ì¡°
```
Spring Boot                    FastAPI (AI Server)
    â”‚                               â”‚
    â”‚  POST /api/v1/fortune/monthly-analysis
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚  {                            â”‚
    â”‚    user_name: "í™ê¸¸ë™",        â”‚
    â”‚    birth_date: "1990-01-15",  â”‚
    â”‚    daily_data: [...]          â”‚
    â”‚  }                            â”‚
    â”‚                               â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚  {                            â”‚
    â”‚    report: "## ì›”ë³„ ë¶„ì„..."   â”‚
    â”‚  }                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ì´ë¯¸ì§€ ì²˜ë¦¬

#### ì €ì¥ êµ¬ì¡°
```
uploads/
â””â”€â”€ images/
    â””â”€â”€ dream/
        â””â”€â”€ {userId}/
            â””â”€â”€ {timestamp}_{uuid}.{ext}
```

#### ì§€ì› í˜•ì‹
- JPEG/JPG
- PNG
- GIF
- WebP

---

## ğŸ”’ ë³´ì•ˆ

### JWT ì¸ì¦

#### í† í° êµ¬ì¡°
```
Header.Payload.Signature

Payload:
{
    "sub": "1",           // userId
    "loginId": "testuser",
    "iat": 1702012800,    // ë°œê¸‰ ì‹œê°„
    "exp": 1702099200     // ë§Œë£Œ ì‹œê°„ (24ì‹œê°„ í›„)
}
```

#### ì¸ì¦ í—¤ë”
```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### ì¸ì¦ ì œì™¸ ê²½ë¡œ
```java
// ì¸ì¦ ë¶ˆí•„ìš”
/api/auth/signup
/api/auth/login
/swagger-ui/**
/v3/api-docs/**
/uploads/**

// ì¸ì¦ í•„ìš”
/api/** (ë‚˜ë¨¸ì§€ ëª¨ë“  API)
```

### CORS ì„¤ì •
```java
// í—ˆìš©ëœ Origin
http://localhost:3000
http://localhost:5173
https://*.ngrok-free.app
https://*.ngrok.io
```

### ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
```java
// BCrypt ì‚¬ìš© (ê°•ë„ 10)
BCryptPasswordEncoder.encode(password)
```

---

## ğŸ“– ì½”ë“œ ìƒì„¸ ì„¤ëª…

### ê³„ì¸µ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Controller Layer                   â”‚
â”‚  (REST API ì—”ë“œí¬ì¸íŠ¸, ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Service Layer                     â”‚
â”‚  (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, íŠ¸ëœì­ì…˜ ê´€ë¦¬)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DAO Layer                       â”‚
â”‚  (MyBatis Mapper Interface)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Mapper XML Layer                    â”‚
â”‚  (SQL ì¿¼ë¦¬ ì •ì˜)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” í´ë˜ìŠ¤ ì„¤ëª…

#### 1. SecurityConfig.java
```java
// Spring Security ì„¤ì •
- JWT í•„í„° ë“±ë¡
- ì¸ì¦ ì œì™¸ ê²½ë¡œ ì„¤ì •
- CORS ì„¤ì • í™œì„±í™”
- ì„¸ì…˜ Stateless ì„¤ì •
- BCrypt ë¹„ë°€ë²ˆí˜¸ ì¸ì½”ë” Bean ë“±ë¡
```

#### 2. JwtUtil.java
```java
// JWT í† í° ìœ í‹¸ë¦¬í‹°
- generateToken(): í† í° ìƒì„±
- getUserIdFromToken(): í† í°ì—ì„œ userId ì¶”ì¶œ
- validateToken(): í† í° ìœ íš¨ì„± ê²€ì¦
```

#### 3. JwtAuthenticationFilter.java
```java
// JWT ì¸ì¦ í•„í„°
- ëª¨ë“  ìš”ì²­ì—ì„œ Authorization í—¤ë” í™•ì¸
- Bearer í† í° ì¶”ì¶œ ë° ê²€ì¦
- SecurityContextì— ì¸ì¦ ì •ë³´ ì„¤ì •
```

#### 4. GlobalExceptionHandler.java
```java
// ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬
- @RestControllerAdvice ì‚¬ìš©
- ì»¤ìŠ¤í…€ ì˜ˆì™¸ë³„ HTTP ìƒíƒœ ì½”ë“œ ë§¤í•‘
- í†µì¼ëœ ì—ëŸ¬ ì‘ë‹µ í˜•ì‹ ë°˜í™˜
```

#### 5. SecurityUtil.java
```java
// í˜„ì¬ ì¸ì¦ëœ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ
- SecurityContextHolderì—ì„œ userId ê°€ì ¸ì˜¤ê¸°
- ëª¨ë“  ì„œë¹„ìŠ¤ì—ì„œ ê³µí†µ ì‚¬ìš©
```

### MyBatis Mapper íŒ¨í„´

```xml
<!-- ResultMap ì •ì˜ -->
<resultMap id="DreamResultMap" type="Dream">
    <id property="dreamId" column="dream_id"/>
    <result property="userId" column="user_id"/>
    ...
</resultMap>

<!-- ì¡°íšŒ ì¿¼ë¦¬ -->
<select id="findById" resultMap="DreamResultMap">
    SELECT * FROM dreams
    WHERE dream_id = #{dreamId}
      AND deleted_date IS NULL
</select>

<!-- Soft Delete -->
<update id="deleteDream">
    UPDATE dreams
    SET deleted_date = NOW()
    WHERE dream_id = #{dreamId}
</update>
```

---

## ğŸ“ ê°œë°œ ê·œì¹™

### ë„¤ì´ë° ì»¨ë²¤ì…˜

| ëŒ€ìƒ | ê·œì¹™ | ì˜ˆì‹œ |
|------|------|------|
| í´ë˜ìŠ¤ | PascalCase | `DreamController` |
| ë©”ì„œë“œ | camelCase | `getDreamsByMonth` |
| ë³€ìˆ˜ | camelCase | `dreamCount` |
| ìƒìˆ˜ | UPPER_SNAKE_CASE | `MAX_FILE_SIZE` |
| DB ì»¬ëŸ¼ | snake_case | `dream_date` |
| API ê²½ë¡œ | kebab-case | `/api/dreams/{id}/result` |

### ì‘ë‹µ í˜•ì‹

#### ì„±ê³µ ì‘ë‹µ
```json
{
    "ë°ì´í„° í•„ë“œë“¤": "...",
    "message": "ì„±ê³µ ë©”ì‹œì§€"
}
```

#### ì—ëŸ¬ ì‘ë‹µ
```json
{
    "error": "ERROR_CODE",
    "message": "ì—ëŸ¬ ë©”ì‹œì§€",
    "timestamp": "2025-12-08T10:30:00"
}
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

Apache License 2.0

---

## ğŸ‘¥ íŒ€ì›

SSAFY Final Project Team

---

<div align="center">

**Made with â¤ï¸ by SSAFY**

</div>

